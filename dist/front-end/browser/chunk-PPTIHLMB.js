import{a as O,b as E,m as P,n as I}from"./chunk-7SMTJZZP.js";import{a as A}from"./chunk-5LRLNLMG.js";import"./chunk-BCOK47RC.js";import"./chunk-AFMMQFCP.js";import"./chunk-HPSNOQTZ.js";import"./chunk-6AKESU7J.js";import"./chunk-RAJ4HTP7.js";import"./chunk-N2SCIOI6.js";import"./chunk-6XXA7HXI.js";import"./chunk-2OPUPMLU.js";import"./chunk-TJXMHTLD.js";import{c as k}from"./chunk-BNBCP7ER.js";import"./chunk-FAX5B2RI.js";import{Cb as i,Db as o,Ib as h,Lb as c,Nb as u,Tb as _,Tc as v,Ub as x,Vb as b,Xc as M,Za as p,Zb as n,_a as d,_b as w,ec as S,ga as f,ob as y,qa as g,ra as m,tb as C}from"./chunk-OHLU4CVY.js";import"./chunk-GAL4ENT6.js";function V(l,e){if(l&1){let t=h();i(0,"tr")(1,"td"),n(2),o(),i(3,"td"),n(4,"View Tags"),o(),i(5,"td")(6,"button",8),c("click",function(){let r=g(t).$implicit,s=u();return m(s.editCategory(r.cat_id))}),n(7," Edit "),o(),i(8,"button",9),c("click",function(){let r=g(t).$implicit,s=u();return m(s.deleteCategory(r.cat_id))}),n(9," Delete "),o()()()}if(l&2){let t=e.$implicit;p(2),w(t.category_name)}}var T=class l{constructor(e,t){this.router=e;this.categoryService=t}categories=[];displayedColumns=["name","Actions"];dataSource=new I(this.categories);paginator;ngOnInit(){this.categoryService.getAllCategories().subscribe({next:e=>{console.log(e),this.categories=e},error:e=>{console.log(e)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator?this.paginator:null}addCategory(){this.router.navigateByUrl("admin/category/create")}editCategory(e){console.log("Editing category with ID:",e),this.router.navigateByUrl(`admin/category/update/${e}`)}deleteCategory(e){confirm("Are you sure you want to delete this category?")&&this.categoryService.deleteCategory(e).subscribe({next:()=>{alert("Category deleted successfully!"),this.categories=this.categories.filter(t=>t.cat_id!==e)},error:()=>{alert("Failed to delete category. Please try again.")}})}static \u0275fac=function(t){return new(t||l)(d(k),d(A))};static \u0275cmp=f({type:l,selectors:[["app-show-all-categories"]],viewQuery:function(t,a){if(t&1&&_(O,5),t&2){let r;x(r=b())&&(a.paginator=r.first)}},standalone:!0,features:[S],decls:18,vars:1,consts:[[1,"container","m-auto"],[1,"category"],[1,"title-part"],[1,"title"],["type","button",1,"btn",3,"click"],[1,"table","text-center"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","bg-warning","mx-3",3,"click"],[1,"btn","bg-danger",3,"click"]],template:function(t,a){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h5",3),n(4,"Categories"),o(),i(5,"button",4),c("click",function(){return a.addCategory()}),n(6,"Add Category"),o()(),i(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),n(11,"Category Name"),o(),i(12,"th",6),n(13,"Tags"),o(),i(14,"th",6),n(15,"Action"),o()()(),i(16,"tbody"),y(17,V,10,1,"tr",7),o()()()()),t&2&&(p(17),C("ngForOf",a.categories))},dependencies:[M,v,E,P],styles:[".category[_ngcontent-%COMP%]{max-width:900px;margin:0 auto 50px;position:relative;padding:30px}.title-part[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;letter-spacing:3px;font-size:1.5em;line-height:48px;padding-bottom:5px;color:#f87f27;background:linear-gradient(to right,#f87f27,#262628);background-clip:text;-webkit-text-fill-color:transparent}th[_ngcontent-%COMP%]{padding:20px}td[_ngcontent-%COMP%]{align-content:center}.btn[_ngcontent-%COMP%]{background-color:#f87f27;color:#fff;font-size:16px;line-height:26px;font-weight:500;margin:10px 0}.btn[_ngcontent-%COMP%]:hover{background-color:#262628;color:#f87f27}"]})};export{T as ShowAllCategoriesComponent};
